{
  "$schema": "https://vega.github.io/schema/vega-lite/v5.json",
  "description": "Recreational Fishing in Australia by State",
  "width": 800,
  "height": 600,
  "projection": {"type": "mercator"},
  "layer": [
    {
      "data": {
        "url": "https://raw.githubusercontent.com/GanyuGuo/FIT3179-Data-Visualisation-2-Recreational-fishing-in-Australia/refs/heads/main/js/ne_10m_admin_1_states_provinces.json",
        "format": {
          "type": "topojson",
          "feature": "ne_10m_admin_1_states_provinces"
        }
      },
      "transform": [{
        "lookup": "properties.name",
        "from":{
                "data":{
                        "url": "https://raw.githubusercontent.com/GanyuGuo/FIT3179-Data-Visualisation-2-Recreational-fishing-in-Australia/refs/heads/main/data/Percentage_of_population_recreationally_fish.csv"
                      },
                "key": "name",
                "fields": ["Percentage"]
                }
      
      }],
      
      
      "mark": {
        "type": "geoshape",
        
        "stroke": "white"
      },
      "encoding": {
        "color":{
          "field":"Percentage",
          "type": "quantitative",
          "scale": {"domain": [0, 35]},
          "title":"Percentage of Population"
        }
      }
      
      
      
    },
    {
    "data": {
        "url": "https://raw.githubusercontent.com/GanyuGuo/FIT3179-Data-Visualisation-2-Recreational-fishing-in-Australia/main/js/ne_10m_admin_1_states_provinces.json",
        "format": {
          "type": "topojson",
          "feature": "ne_10m_admin_1_states_provinces"
        }
      },
      "mark": {
        "type": "text",
        "fontSize": 12,
        "color": "black",
        "dx": 0,   
        "dy": 0
      },
      "encoding": {
        "text": {"field": "properties.name"},  
        "longitude": {"field": "properties.longitude"}, 
        "latitude": {"field": "properties.latitude"},   
        "tooltip": {"field": "properties.name", "title": "State"}
      }
  }
    
    
  ]
  
}
